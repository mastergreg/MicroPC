\documentclass[a4paper,10pt]{article} \usepackage{anysize}
\marginsize{2cm}{2cm}{1cm}{1cm}
%\textwidth 6.0in \textheight = 664pt
\usepackage{xltxtra}
\usepackage{xunicode} \usepackage{graphicx}
\usepackage{color} \usepackage{xgreek} \usepackage{fancyvrb}
\usepackage{minted}
\usepackage{listings}
\usepackage{enumitem} 
\usepackage{framed} \usepackage{relsize}
\usepackage{float} 
\setmainfont[Mapping=tex-text]{CMU Serif}
\begin{document}

\include{title/title}

\section*{} 
\subsection*{Άσκηση (i)}

Σε αυτή την άσκηση ζητείται να διαβάζεται από το πληκτρολόγιο ένας δυαδικός
αριθμός των δέκα bits και στη συνέχεια να εκτυπώνεται ο αντίστοιχος δεκαδικός.
Γι' αυτό το σκοπό, διαβάζουμε τον δυαδικό αριθμό ανά ψηφίο και τον
αποθηκεύουμε στον διπλό καταχωρητή DX, με ένα loop που εκτελείται δέκα φορές
και κάθε φορά ολισθαίνει κατά μία θέση προς τα αριστερά τον DX προσθέτοντας
ένα μόνο εάν το ψηφίο που διάβασε είναι 1. Στη συνέχεια ο δυαδικός αριθμός
μετατρέπεται στο δεκαδικό σύστημα με  διαίρεση αρχικά με 1000 για την εύρεση
των χιλιάδων, με διαίρεση του υπολοίπου από την προηγούμενη διαίρεση με 100
για την εύρεση των εκατοντάδων και διαίρεση του υπολοίπου με 10 για την εύρεση
των δεκάδων. Το υπόλοιπο είναι οι μονάδες. Κάθε φορά εκτυπώνεται ο αντίστοιχος
αριθμός (με τον αντίστοιχο χαρακτήρα ASCII).

\noindent Κυρίως κώδικας:
\inputminted[linenos,obeytabs,fontsize=\footnotesize]{nasm}{files/1.asm}
Τα macros που χρησιμοποιήσαμε:
\inputminted[linenos,obeytabs,fontsize=\footnotesize]{nasm}{files/1.txt}
\subsection*{Άσκηση (ii)}
Στην άσκηση αυτή ζητείται τυπώνοντας τα κατάλληλα μηνύματα να διαβάζουμε ένα
δεκαδικό αριθμό τεσσάρων ψηφίων, να τον εκτυπώνουμε και αν πατηθεί <enter> να
τον μετατρέπουμε στον αντίστοιχο δεκαεξαδικό τον οποίο και να εκτυπώνουμε .
Για το σκοπό αυτό, διαβάζουμε τον αριθμό ανά ψηφίο και τον αποθηκεύουμε τελικά
στον καταχωρητή DP, με ένα loop που εκτελείται τέσσερις φορές (μία για κάθε
ψηφίο), όπου δημιουργούμε τον αριθμό πολλαπλασιάζοντας κάθε φορά το
προηγούμενο αποτέλεσμα επί 10 και προσθέτοντας το τρέχον ψηφίο. Στη συνέχεια,
αφού πατηθεί <enter> τυπώνεται ο αντίστοιχος δεκαεξαδικός, τον οποίο
υπολογίζουμε απομονώνοντας κάθε φορά στον καταχωρητή BL τα εκάστοτε τέσσερα
ψηφία τα οποία αφού μετατρέψουμε στον αντίστοιχο δεκαεξαδικό χαρακτήρα τον
εκτυπώνουμε στην οθόνη. Ξεκινάμε από τα τέσσερα MSB και προχωράμε προς τα
τέσσερα LSB του BP.  Με το χαρακτήρα ``Q" ή ``q" το πρόγραμμα τερματίζεται.

\noindent Κυρίως κώδικας:
\inputminted[linenos,obeytabs,fontsize=\footnotesize]{nasm}{files/2.asm}
Τα macros που χρησιμοποιήσαμε:
\inputminted[linenos,obeytabs,fontsize=\footnotesize]{nasm}{files/2.txt}
\subsection*{Άσκηση (iii)}
Εδώ ζητείται να διαβάζουμε το πολύ 20 χαρακτήρες από το πληκτρολόγιο
και μετά το πάτημα του <enter>, να τους εκτυπώνουμε
στην έξοδο ομαδοποιημένους κατά αριθμούς, μικρά και κεφαλαία γράμματα
αγνοώντας τα κενά. Έτσι, δεσμεύουμε χώρο 21 byte για κάθε μία από τις τρεις
``ομάδες", που αρχικοποιούμε στο χαρακτήρα τερματισμού string ``\$" (το 21ο byte
χρησιμεύει για να έχουμε χαρακτήρα τερματισμού στην περίπτωση που διαβάσουμε
20 χαρακτήρες ίδιας ομάδας).  Στη συνέχεια διαβάζουμε τους χαρακτήρες
αγνοώντας τους μη επιθυμητούς, μέσα σε ένα loop 20 επαναλήψεων, 
το οποίο σταματάει νωρίτερα σε περίπτωση που δεχτεί <enter>, 
και κάθε έναν τον αποθηκεύουμε στον αντίστοιχο πίνακα,
αυξάνοντας κάθε φορά μία μεταβλητή που χρησιμεύει σαν δείκτης σ' αυτό το χώρο.
Στη συνέχεια εκτυπώνουμε κάθε πίνακα διαδοχικά χρησιμοποιώντας τη
μακροεντολή print\_string. Το πρόγραμμα τερματίζεται αν δοθεί ο χαρακτήρας ``/".

\noindent Κυρίως κώδικας:
\inputminted[linenos,obeytabs,fontsize=\footnotesize]{nasm}{files/3.asm}
Τα macros που χρησιμοποιήσαμε:
\inputminted[linenos,obeytabs,fontsize=\footnotesize]{nasm}{files/3.txt}
\subsection*{Άσκηση (iv)}
Σε αυτή την άσκηση ζητείται να διαβάσουμε δύο δεκαεξαδικούς αριθμούς 32 bit
και να τυπώσουμε στην οθόνη το αποτέλεσμα του πολλαπλασιασμού μεταξύ τους.
Έτσι, αφού διαβάσουμε τους δύο αριθμούς και τους αποθηκεύσουμε αντίστοιχα
στους καταχωρητές CX:BX και DI:SI  εκτελούμε τον πολλαπλασιασμό και
σχηματίζουμε το αποτέλεσμα ανά τετράδες δεκαεξαδικών ψηφίων (από τα LSB προς
τα MSB) ως εξής:

\begin{tabular}{l c l}
1η & τετράδα & = $AX(X0*Y0)$\\
2η & » & =  $AX(X1*Y0)+ DX(X0*Y0) + AX(X0*Y1)$\\
3η & » & = \parbox{13cm}{$AX(X1*Y1) + DX(X1*Y0) + 1$ (αν υπάρχει κρατούμενο)$ +  DX(X0*Y1) +
1$ (αν υπάρχει κρατούμενο)}\\
4η & » & = $DX(X1*Y1) + 1$ (αν υπάρχει κρατούμενο) $+ 1$ (αν υπάρχει κρατούμενο)\\
\end{tabular}

\noindent όπου ο συμβολισμός ΑΧ(πολ/σμού) είναι ο καταχωρητής AX από την εκτέλεση του
αναγραφόμενου πολ/σμού 
και DX(πολ/σμού) ο καταχωρητής DX από την εκτέλεση αυτού.

Έτσι σχηματίζεται το αποτέλεσμα. Κάθε φορά που οριστικοποιείται μία τετράδα
δεκαεξαδικών ψηφίων την κάνουμε push στη στοίβα. Στη συνέχεια την κάνουμε pop
και αφού μετατραπεί στα αντίστοιχα δεκαεξαδικά ψηφία εκτυπώνεται στην οθόνη.

\noindent Κυρίως κώδικας:
\inputminted[linenos,obeytabs,fontsize=\footnotesize]{nasm}{files/4.asm}
Τα macros που χρησιμοποιήσαμε:
\inputminted[linenos,obeytabs,fontsize=\footnotesize]{nasm}{files/4.txt}
\end{document}
