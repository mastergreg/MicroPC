INCLUDE MACROS.TXT

STACK_SEG SEGMENT STACK
    DW 128 DUP(?)
ENDS


DATA_SEG SEGMENT
    MSG DB "GIMME <=20 CHARS END PRESS RETURN '/' TO QUIT",0AH,0DH,"$"
    LINE DB 0AH,0DH,"$"
ENDS

CODE_SEG SEGMENT
    ASSUME CS:CODE_SEG,SS:STACK_SEG,DS:DATA_SEG,ES:DATA_SEG

MAIN PROC FAR
;FOR SEGMENT REGISTERS
    MOV AX,DATA_SEG
    MOV DS,AX
    MOV ES,AX

START:
    PRINT_STRING MSG
    CALL GET_INPUT
CNT:
    CALL PRINTDX
    PRINT_STRING LINE

EX:
    EXIT
MAIN ENDP


GET_INPUT PROC NEAR
    MOV DX,0
    MOV CX,20
READL:
    READ       
    CMP AL,'/'
    JE CNT  
    CMP AL,30H
    JL READL
    CMP AL,39H
    JG READL
    SUB AL,30H ;FOR NUMBERS PUT THEM IN DX     
      
    PUSH DX  
    MOV DL,AL                                  
    INC BL
    LOOP READL
    RET
GET_INPUT ENDP

PRINTDX PROC NEAR
;    PUSH AX
;    PUSH BX
;    PUSH CX
;    PUSH DX
    MOV CX,BX    ;Counts the number of decimal digits
PRINT_LOOP:
    PRINT_NUM DL
    POP DX
    LOOP PRINT_LOOP
;    POP DX
;    POP CX
;    POP BX
;    POP AX  
    RET
PRINTDX ENDP

CODE_SEG ENDS

END MAIN
