;This macro change registers AH,AL
READ MACRO 
    MOV AH,1
    INT 21H
ENDM  

READNB MACRO 
    MOV AH,06H
    MOV DL,0FFH
    INT 21H
ENDM  

;This macro uses registers AH,DL
PRINT MACRO CHAR
    PUSH AX
    PUSH DX
    MOV DL,CHAR
    MOV AH,02H
    INT 21H
    POP DX
    POP AX
ENDM


PRINT_ECHO MACRO CHAR
    PUSH AX
    PUSH BX
    PUSH DX
    MOV AH,02H
    MOV DH,DS:[OFFSET ECHO_LINE]
    MOV DL,DS:[OFFSET ECHO_COL]
    MOV BH,0H
    INT 10H
    POP AX
    POP BX
    POP DX
    INC DS:[OFFSET ECHO_COL]
    PRINT CHAR
ENDM

PRINT_MSG MACRO CHAR
    PUSH AX
    PUSH BX
    PUSH DX
    MOV AH,02H
    MOV DH,DS:[OFFSET MSG_LINE]
    MOV DL,DS:[OFFSET MSG_COL]
    MOV BH,0H
    INT 10H
    POP AX
    POP BX
    POP DX
    INC DS:[OFFSET MSG_COL]
    PRINT CHAR
ENDM

;This macro uses registers AH,DX
PRINT_STRING MACRO STRING
    PUSH AX 
    PUSH DX
    MOV DX,OFFSET STRING ;Assume that string is a variable or constant, NOT an address
    MOV AH,09H
    INT 21H 
    POP DX
    POP AX
ENDM

EXIT MACRO
    MOV AH,4CH
    INT 21H
ENDM
