START:
	CALL CHECK_INPT
	CALL MDELAY
	CALL INC_COUNT
	CALL SHOW_COUNTERS
	JMP START

CHECK_INPT:
	LDA 2000H
	RAL
	CC DIAKOPH
	RET

SHOW_COUNTERS:
	MOV A,D
	RAL
	RAL
	RAL
	RAL
	ADD E
	CMA
	STA 3000H
	RET
MDELAY:
	CALL MINI_DELAY
	CALL CHECK_INPT
	CALL MINI_DELAY
	CALL CHECK_INPT

MINI_DELAY:
	DI
	LXI B,0032H
	CALL DELB
	RET

INC_COUNT:
	MOV A,E
	INR A
	ANI 0FH
	MOV E,A
	RET
INC_INTR:
	MOV A,D
	INR A
	ANI 0FH
	MOV D,A
	RET

DIAKOPH:
	MVI A,0DH
	SIM
	EI
	RET
	
INTR_ROUTINE:
	CALL MINI_DELAY
	PUSH B
	PUSH D
	CALL BEEP
	POP D
	POP B
LP:	RIM
	CALL MINI_DELAY
	ANI 10H
	CPI 10H
	JZ LP
	CALL INC_INTR
	EI
	RET
END