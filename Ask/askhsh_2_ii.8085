START:
	LDA 2000H
	RAL
	CC DIAKOPH
	DI
	CALL INC_COUNT
	;CALL MDELAY
	CALL SHOW_COUNTERS
	
	JMP START

SHOW_COUNTERS:
	MOV A,D
	RAL
	RAL
	RAL
	RAL
	ADD E
	CMA
	STA 3000H
	RET
MDELAY:
	PUSH B	
	PUSH D
	PUSH H
	;DI
	LXI B,0032H
	CALL DELB
	LDA 2000H
	RAL
	CC DIAKOPH
	;DI
	LXI B,0032H
	CALL DELB
	LDA 2000H
	RAL
	CC DIAKOPH


	POP H
	POP D
	POP B
	
	RET

INC_COUNT:
	MOV A,E
	INR A
	ANI 0FH
	MOV E,A
	RET
INC_INTR:
	MOV A,D
	INR A
	ANI 0FH
	MOV D,A
	RET

DIAKOPH:
	PUSH D
	MVI A,0DH
	SIM
	EI
	POP D
	RET
	
INTR_ROUTINE:
	PUSH PSW
	PUSH B
	PUSH D
	PUSH H
	CALL BEEP
	EI
	POP H
	POP D
	POP B
	POP PSW
	CALL INC_INTR
	RET
END